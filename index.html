<!doctype html>
<html lang="pl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>P. A. Barczewska</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400&family=Playfair+Display:wght@500;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<style>
:root{ --radius: 18px; --shadow: 0 18px 60px rgba(0,0,0,0.25); }
*{ box-sizing:border-box; }
body{ margin:0; font-family:"Inter", sans-serif; color:#151515; background-image:url("file_000000006408722fa2ddd16807e0f8b7.png"); background-size:cover; background-position:center; background-attachment:fixed; min-height:100vh; }
body::before{ content:""; position:fixed; inset:0; background:rgba(10,10,12,0.45); z-index:-1; }
header{ max-width:980px; margin:24px auto 0; padding:0 18px; display:flex; align-items:center; gap:14px; color:#fff; }
.logo{ width:64px; height:64px; border-radius:50%; background:#fff; object-fit:cover; box-shadow:0 10px 30px rgba(0,0,0,0.3); flex:0 0 auto; cursor:pointer; -webkit-tap-highlight-color: transparent; }
header h1{ font-family:"Playfair Display", serif; font-size:1.5rem; margin:0; line-height:1.1; }
header p{ margin:4px 0 0; font-size:0.95rem; opacity:0.9; }
.hero{ max-width:980px; margin:18px auto 0; padding:84px 18px 64px; border-radius:var(--radius); box-shadow:var(--shadow); background:rgba(255,255,255,0.10); backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px); border:1px solid rgba(255,255,255,0.12); text-align:center; }
.hero h2{ font-family:"Playfair Display", serif; font-size:2.35rem; color:#fff; margin:0 0 10px; }
.hero p{ color:rgba(255,255,255,0.92); font-size:1.05rem; margin:0; font-weight:300; }
main{ max-width:980px; margin:30px auto 70px; padding:0 18px; }
section{ background:rgba(255,255,255,0.64); backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px); border:1px solid rgba(255,255,255,0.25); border-radius:var(--radius); box-shadow:var(--shadow); padding:26px 22px; margin-top:20px; }
section h2{ font-family:"Playfair Display", serif; font-size:1.5rem; margin:0 0 14px; }
.post-preview{ margin-top:22px; padding-top:18px; border-top:1px solid rgba(0,0,0,0.15); }
.post-preview h3{ font-family:"Playfair Display", serif; font-size:1.2rem; margin:0 0 6px; }
.post-preview .excerpt{ font-size:0.95rem; line-height:1.6; opacity:0.9; margin:0 0 10px; }
.read-more{ display:inline-block; font-size:0.9rem; text-decoration:none; color:#111; font-weight:500; border-bottom:1px solid rgba(0,0,0,0.4); padding-bottom:2px; }

/* SOCIAL MEDIA STYLE */
.social-links { display: flex; justify-content: center; gap: 12px; margin: 25px 0 15px; flex-wrap: wrap; }
.social-link { display: flex; align-items: center; gap: 8px; color: #fff; text-decoration: none; font-size: 0.8rem; background: rgba(255,255,255,0.12); padding: 10px 16px; border-radius: 25px; backdrop-filter: blur(4px); border: 1px solid rgba(255,255,255,0.15); transition: all 0.3s ease; }
.social-link:hover { background: rgba(255,255,255,0.25); transform: translateY(-3px); border-color: rgba(255,255,255,0.4); }
.social-link i { font-size: 1rem; }

footer{ max-width:980px; margin:26px auto 60px; padding:0 18px; color:rgba(255,255,255,0.80); font-size:0.9rem; text-align:center; }
@media (max-width:520px){ .hero h2{ font-size:2rem; } section{ padding:22px 18px; } header h1{ font-size:1.35rem; } }
</style>
</head>
<body>

<header>
  <img id="secretLogo" class="logo" src="file_000000001f04720c8a514e8f7c6decad.png" alt="Logo">
  <div>
    <h1>P. A. Barczewska</h1>
    <p>Pisarka emocji. Kryminologia z ciekawości.</p>
  </div>
</header>

<div class="hero">
  <h2>P. A. Barczewska</h2>
  <p>Pisarka emocji. Kryminologia z ciekawości.</p>
</div>

<main>
  <section>
    <h2>O mnie</h2>
    <p>Piszę o emocjach, relacjach i o tym, co dzieje się z człowiekiem w momentach granicznych.</p>
    <p>Kryminologia jest dla mnie narzędziem myślenia. Nie oceniam — pokazuję warsztat i sposób patrzenia.</p>
  </section>

  <section>
    <h2>Teksty</h2>
    
    <article class="post-preview">
      <h3>Najlepsze rzeczy dzieją się w ciszy</h3>
      <p class="excerpt">Czasem nie potrzeba odpowiedzi. Wystarczy zostać na chwilę w miejscu, w którym coś zaczyna być prawdziwe…</p>
      <a class="read-more" href="teksty/najlepsze-rzeczy.html">Czytaj dalej</a>
    </article>

    <article class="post-preview">
      <h3>Między strachem a decyzją</h3>
      <p class="excerpt">Każda decyzja ma swój moment graniczny. Ten, w którym ciało wie wcześniej niż my…</p>
      <a class="read-more" href="teksty/miedzy-strachem.html">Czytaj dalej</a>
    </article>

    <div id="dynamic-posts"></div>
  </section>
</main>

<footer>
  <div class="social-links">
    <a href="mailto:p.a.barczewska@gmail.com" class="social-link">
      <i class="fas fa-envelope"></i> Email
    </a>
    <a href="https://www.instagram.com/p.a.barczewska" target="_blank" class="social-link">
      <i class="fab fa-instagram"></i> Instagram
    </a>
    <a href="https://www.tiktok.com/@p.a.barczewska" target="_blank" class="social-link">
      <i class="fab fa-tiktok"></i> TikTok
    </a>
    <a href="https://www.wattpad.com/user/pabarczewska" target="_blank" class="social-link">
      <i class="fas fa-pen-nib"></i> Wattpad
    </a>
  </div>
  <p>© <span id="year"></span> P. A. Barczewska</p>
</footer>

<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script>
  document.getElementById("year").textContent = new Date().getFullYear();

  async function loadDynamicPosts() {
    const container = document.getElementById('dynamic-posts');
    try {
      const response = await fetch(`https://api.github.com/repos/pbarczewska/pbarczewska.github.io/contents/teksty`);
      const files = await response.json();
      if (!files || files.length === 0 || files.message === "Not Found") return;
      for (const file of files) {
        if (file.name.endsWith('.md')) {
          const res = await fetch(file.download_url);
          const content = await res.text();
          const titleMatch = content.match(/^title:\s*(.*)$/m);
          const title = titleMatch ? titleMatch[1].replace(/['"]/g, "") : file.name.replace('.md', '');
          const bodyContent = content.split('---').pop().trim();
          const article = document.createElement('article');
          article.className = 'post-preview';
          article.innerHTML = `<h3>${title}</h3><div class="excerpt">${marked.parse(bodyContent.substring(0, 150))}...</div><a class="read-more" href="view.html?post=${file.name}">Czytaj dalej</a>`;
          container.appendChild(article);
        }
      }
    } catch (e) { console.error(e); }
  }
  loadDynamicPosts();

  const logo = document.getElementById("secretLogo");
  let clicks = 0, timer = null;
  logo.onclick = () => {
    clicks++;
    clearTimeout(timer);
    timer = setTimeout(() => clicks = 0, 1500);
    if (clicks >= 4) window.location.href = "/admin/";
  };
</script>
</body>
</html>
